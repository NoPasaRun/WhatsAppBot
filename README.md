<h1>Документация</h1>

<p>Проект "WhatsApp Bot" для приема и отправки сообщений в мессенджер WhatsApp</p>
<i>Приложение реализовано при помощи сервиса Green API</i>

<h2>Деплой</h2>

<p>Проект находится на сервере платформы RuVDS</p>
<strong>Данные аккаунта</strong>
<ul>
    <li>Host: 194.87.94.209</li>
    <li>Password: eR33CmXz5F</li>
    <li>User: root</li>
</ul>

<h2>Конфигурация приложения</h2>
<p>В файле ./.env есть переменные для конфигурации приложения</p>
<ul>
    <li>DATABASE_URL - url для подключения к базе данных</li>
    <li>IdInstance - идентификатор приложения Green API</li>
    <li>apiTokenInstance - токен приложения Green API</li>
    <li>username - имя пользователя-администратора</li>
    <li>password - пароль пользователя-администратора</li>
    <li>text - сообщение-заглушка для отправки в мессенджер</li><br>
    <i>Не меняйте именование переменных! Сконфигурировать их значения можно через интерфейс или напрямую в файле.</i><br><br>
    <i>Чтобы узнать, как перезапустить приложение, смотрите следующий пункт</i>
</ul>

<h2>Перезапуск приложения</h2>

<h4>1. Подключение к хосту</h4>

<p>
Windows

Вводим команду в cmd / терминале ssh root@194.87.94.209
После чего программа запросит пароль. Вводим eR33CmXz5F
</p>

<h4>2. Устанавливаем callback url</h4>

<p>
Если по каким-то причинам утилита ngrok перестала работать
пишем команду <code>ngrok http 8000 --log=stdout > ngrok.log &</code>
Пишем <code>cat ngrok.log</code> и достаем последний url. Этот url
вставляем в callback url нашего инстанса Green API
</p>

<p>
Если упало приложение пишем <code>supervisorctl restart all</code>
</p>

<h2>Сведения о приложении</h2>

<ul>
    <li><a href="http://194.87.94.209:8000/">Основной url веб-сервиса</a></li>
    <li><a href="http://194.87.94.209:8000/admin">Админка</a></li>
    <li><a href="http://194.87.94.209:8000/bot_config">Конфигурация бота</a></li>
    <li><a href="http://194.87.94.209:8000/app_config">Конфигурация приложения</a></li>
    <li><a href="http://194.87.94.209:8000/docs"></a></li>
</ul>
<p>Приложение написано на фрэймворке FastAPI</p>

<p>Спасибо за внимание!</p>
